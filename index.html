<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œê¸° (5ì„¸íŠ¸)</title>
  <style>
    :root {
      --bg: #0b1020;
      --bg-1: rgba(123, 92, 255, 0.35);
      --bg-2: rgba(0, 225, 255, 0.25);
      --bg-3: rgba(255, 143, 0, 0.18);
      --card: rgba(255, 255, 255, 0.06);
      --text: rgba(255, 255, 255, 0.92);
      --muted: rgba(255, 255, 255, 0.65);
      --border: rgba(255, 255, 255, 0.12);
      --shadow: 0 20px 60px rgba(0,0,0,0.35);
      --button-bg: rgba(255, 255, 255, 0.10);
      --button-bg-hover: rgba(255, 255, 255, 0.14);
      --button-border-hover: rgba(255,255,255,0.18);
      --set-bg: rgba(255,255,255,0.04);
      --ball-bg: rgba(255,255,255,0.10);
      --ball-border: rgba(255,255,255,0.16);
      --accent: rgba(123,92,255,0.65);
      --toggle-track: rgba(255,255,255,0.20);
      --toggle-track-active: rgba(123,92,255,0.75);
      --toggle-thumb: rgba(255,255,255,0.95);
      --radius: 18px;
    }

    :root[data-theme="light"] {
      --bg: #f6f3ef;
      --bg-1: rgba(255, 200, 118, 0.45);
      --bg-2: rgba(80, 160, 255, 0.20);
      --bg-3: rgba(255, 120, 90, 0.16);
      --card: rgba(255, 255, 255, 0.88);
      --text: rgba(31, 27, 20, 0.92);
      --muted: rgba(63, 57, 48, 0.72);
      --border: rgba(33, 29, 22, 0.12);
      --shadow: 0 20px 50px rgba(30, 20, 10, 0.12);
      --button-bg: rgba(0, 0, 0, 0.04);
      --button-bg-hover: rgba(0, 0, 0, 0.08);
      --button-border-hover: rgba(0, 0, 0, 0.18);
      --set-bg: rgba(0,0,0,0.03);
      --ball-bg: rgba(0,0,0,0.04);
      --ball-border: rgba(0,0,0,0.12);
      --accent: rgba(255, 138, 61, 0.65);
      --toggle-track: rgba(0,0,0,0.14);
      --toggle-track-active: rgba(255, 138, 61, 0.65);
      --toggle-thumb: rgba(255,255,255,1);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 24px;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", "Noto Sans KR", Arial, sans-serif;
      color: var(--text);
      background:
        radial-gradient(1200px 800px at 20% 10%, var(--bg-1), transparent 60%),
        radial-gradient(1000px 700px at 80% 20%, var(--bg-2), transparent 55%),
        radial-gradient(900px 700px at 55% 90%, var(--bg-3), transparent 55%),
        var(--bg);
    }

    .wrap { width: min(820px, 100%); }

    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 24px;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      z-index: 5;
      color: var(--muted);
      font-size: 13px;
      letter-spacing: -0.01em;
    }

    .toggle {
      width: 54px;
      height: 30px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: var(--toggle-track);
      position: relative;
      padding: 0;
      display: inline-flex;
      align-items: center;
      justify-content: flex-start;
      transition: background 0.2s ease, border-color 0.2s ease;
      cursor: pointer;
    }

    .toggle-thumb {
      width: 24px;
      height: 24px;
      border-radius: 999px;
      background: var(--toggle-thumb);
      transform: translateX(3px);
      transition: transform 0.2s ease;
      box-shadow: 0 6px 18px rgba(0,0,0,0.25);
    }

    .toggle[aria-checked="true"] {
      background: var(--toggle-track-active);
      border-color: transparent;
    }

    .toggle[aria-checked="true"] .toggle-thumb {
      transform: translateX(27px);
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 28px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    h1 {
      margin: 0 0 8px;
      font-size: 28px;
      letter-spacing: -0.02em;
    }

    p {
      margin: 0 0 18px;
      color: var(--muted);
      line-height: 1.5;
    }

    .row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
      margin-top: 18px;
    }

    button {
      appearance: none;
      border: 1px solid var(--border);
      background: var(--button-bg);
      color: var(--text);
      border-radius: 14px;
      padding: 12px 14px;
      font-size: 15px;
      cursor: pointer;
      transition: transform 0.08s ease, background 0.2s ease, border-color 0.2s ease;
      user-select: none;
    }
    button:hover { background: var(--button-bg-hover); border-color: var(--button-border-hover); }
    button:active { transform: translateY(1px); }
    button:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }

    /* 5ì„¸íŠ¸ ì¶œë ¥ ë ˆì´ì•„ì›ƒ */
    .sets {
      display: grid;
      gap: 14px;
      margin-top: 18px;
    }

    .set {
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 14px;
      background: var(--set-bg);
      display: grid;
      gap: 10px;
    }

    .set-title {
      font-weight: 800;
      font-size: 14px;
      letter-spacing: -0.02em;
      color: var(--text);
    }

    .numbers {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
    }

    .ball {
      width: 50px;
      height: 50px;
      display: grid;
      place-items: center;
      border-radius: 999px;
      font-weight: 900;
      font-size: 17px;
      border: 1px solid var(--ball-border);
      box-shadow: 0 8px 24px rgba(0,0,0,0.25);
      background: var(--ball-bg);
    }

    .meta {
      margin-top: 14px;
      display: flex;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
      color: var(--muted);
      font-size: 13px;
    }

    .toast {
      margin-top: 10px;
      font-size: 13px;
      color: var(--muted);
    }

    @media (max-width: 420px) {
      .ball { width: 46px; height: 46px; font-size: 16px; }
      h1 { font-size: 24px; }
      .theme-toggle { top: 14px; right: 14px; }
    }
  </style>
</head>
<body>
  <div class="theme-toggle">
    <span id="themeLabel">ë‹¤í¬</span>
    <button id="btnTheme" class="toggle" type="button" role="switch" aria-checked="true" aria-labelledby="themeLabel">
      <span class="toggle-thumb"></span>
    </button>
  </div>
  <main class="wrap">
    <section class="card" aria-labelledby="title">
      <h1 id="title">ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œê¸° (í•œ ë²ˆì— 5ì„¸íŠ¸)</h1>
      <p>ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ <b>1~45</b> ì‚¬ì´ ë²ˆí˜¸ 6ê°œë¥¼ <b>ì¤‘ë³µ ì—†ì´</b> ë½‘ì•„ì„œ <b>ì´ 5ì„¸íŠ¸</b>ë¥¼ í•œ ë²ˆì— ì¶”ì²œí•´ì¤˜ìš”.</p>

      <div class="row">
        <button id="btnPick" type="button">ğŸ² 5ì„¸íŠ¸ ì¶”ì²œ</button>
        <button id="btnCopy" type="button">ğŸ“‹ ì „ì²´ ë³µì‚¬</button>
        <button id="btnReset" type="button">â†©ï¸ ì´ˆê¸°í™”</button>
      </div>

      <!-- ì„¸íŠ¸ ì¶œë ¥ -->
      <div id="sets" class="sets" aria-live="polite" aria-label="ì¶”ì²œ ë²ˆí˜¸ 5ì„¸íŠ¸ ì˜ì—­"></div>

      <div class="meta">
        <span id="hint">ì•„ì§ ì¶”ì²œ ì „ì´ì—ìš”.</span>
        <span id="time"></span>
      </div>

      <div id="toast" class="toast" aria-live="polite"></div>
    </section>
  </main>

  <script>
    const $ = (sel) => document.querySelector(sel);

    const setsEl = $("#sets");
    const hintEl = $("#hint");
    const timeEl = $("#time");
    const toastEl = $("#toast");
    const themeBtn = $("#btnTheme");
    const themeLabel = $("#themeLabel");
    const themeKey = "theme";

    // 5ì„¸íŠ¸ë¥¼ ì €ì¥
    let lastPicks = []; // [[...],[...],[...],[...],[...]]

    function nowString() {
      const d = new Date();
      return d.toLocaleString("ko-KR", { hour12: false });
    }

    function shuffle(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function pickOneSet() {
      const pool = Array.from({ length: 45 }, (_, i) => i + 1);
      shuffle(pool);
      return pool.slice(0, 6).sort((a, b) => a - b);
    }

    function pickFiveSets() {
      const sets = [];
      for (let i = 0; i < 5; i++) {
        sets.push(pickOneSet());
      }
      return sets;
    }

    function renderSets(sets) {
      setsEl.innerHTML = "";

      sets.forEach((nums, idx) => {
        const setWrap = document.createElement("div");
        setWrap.className = "set";

        const title = document.createElement("div");
        title.className = "set-title";
        title.textContent = `ì„¸íŠ¸ ${idx + 1}`;

        const numbers = document.createElement("div");
        numbers.className = "numbers";

        nums.forEach((n) => {
          const ball = document.createElement("div");
          ball.className = "ball";
          ball.textContent = n;
          numbers.appendChild(ball);
        });

        setWrap.appendChild(title);
        setWrap.appendChild(numbers);
        setsEl.appendChild(setWrap);
      });
    }

    function setToast(msg) {
      toastEl.textContent = msg;
      if (!msg) return;
      clearTimeout(setToast._t);
      setToast._t = setTimeout(() => (toastEl.textContent = ""), 1600);
    }

    function applyTheme(theme) {
      const nextTheme = theme === "light" ? "light" : "dark";
      document.documentElement.setAttribute("data-theme", nextTheme);
      themeBtn.setAttribute("aria-checked", nextTheme === "dark" ? "true" : "false");
      themeLabel.textContent = nextTheme === "dark" ? "ë‹¤í¬" : "ë¼ì´íŠ¸";
    }

    function initTheme() {
      const stored = localStorage.getItem(themeKey);
      if (stored === "dark" || stored === "light") {
        applyTheme(stored);
        return;
      }
      const prefersDark = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
      applyTheme(prefersDark ? "dark" : "light");
    }

    themeBtn.addEventListener("click", () => {
      const current = document.documentElement.getAttribute("data-theme") || "dark";
      const next = current === "dark" ? "light" : "dark";
      applyTheme(next);
      localStorage.setItem(themeKey, next);
    });

    $("#btnPick").addEventListener("click", () => {
      lastPicks = pickFiveSets();
      renderSets(lastPicks);

      hintEl.textContent = "ì¶”ì²œ ì™„ë£Œ! (5ì„¸íŠ¸)";
      timeEl.textContent = `ìƒì„±: ${nowString()}`;
      setToast("5ì„¸íŠ¸ ë²ˆí˜¸ê°€ ìƒì„±ëì–´ìš”!");
    });

    $("#btnCopy").addEventListener("click", async () => {
      if (!lastPicks.length) {
        setToast("ë¨¼ì € 5ì„¸íŠ¸ ì¶”ì²œì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.");
        return;
      }

      // ë³µì‚¬ í¬ë§·
      // 1) 1, 2, 3, 4, 5, 6
      // 2) ...
      const text = lastPicks
        .map((nums, i) => `${i + 1}) ${nums.join(", ")}`)
        .join("\n");

      try {
        await navigator.clipboard.writeText(text);
        setToast("ì „ì²´ 5ì„¸íŠ¸ë¥¼ ë³µì‚¬í–ˆì–´ìš”!");
      } catch (e) {
        setToast("ë³µì‚¬ ê¶Œí•œì´ ì—†ì–´ìš”. í…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ì„ íƒí•´ ë³µì‚¬í•´ ì£¼ì„¸ìš”.");
      }
    });

    $("#btnReset").addEventListener("click", () => {
      lastPicks = [];
      setsEl.innerHTML = "";
      hintEl.textContent = "ì•„ì§ ì¶”ì²œ ì „ì´ì—ìš”.";
      timeEl.textContent = "";
      setToast("ì´ˆê¸°í™”í–ˆì–´ìš”.");
    });

    initTheme();
  </script>
</body>
</html>
